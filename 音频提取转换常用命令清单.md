### **一、基础音频提取（直接复制原始流，最快）**

从视频中提取音频且不重新编码（保留原始格式，速度极快）：

```bash
# 提取为 AAC（常见于 MP4/MKV 中的原始音频格式）
ffmpeg -i input.mp4 -vn -c:a copy output.aac

# 提取为 MP3（若视频中音频本身是 MP3 编码）
ffmpeg -i input.mkv -vn -c:a copy output.mp3

# 提取为 FLAC（若视频中包含无损音频）
ffmpeg -i input.mov -vn -c:a copy output.flac
```

- `-vn`：禁用视频流（只处理音频）
- `-c:a copy`：直接复制音频流（无损、无重新编码）

### **二、转换为无损音频格式（保留最高音质）**

适合需要长期保存或编辑的场景：

```bash
# 提取并转换为 WAV（无损，体积较大）
ffmpeg -i input.mp4 -vn -c:a pcm_s16le output.wav
# 说明：pcm_s16le 是 WAV 常用的无损编码，16位深度

# 提取并转换为 FLAC（无损压缩，体积比 WAV 小）
ffmpeg -i input.mkv -vn -c:a flac -compression_level 8 output.flac
# 说明：-compression_level 8 是最高压缩比（无损，体积更小，转换稍慢）
```

### **三、转换为有损音频格式（平衡体积与音质）**

适合日常播放、节省存储空间：

```bash
# 转换为 MP3（通用性强）
ffmpeg -i input.mp4 -vn -c:a libmp3lame -q:a 2 output.mp3
# 说明：-q:a 2 是高品质（0-9，数值越小音质越好，2 接近无损听感）

# 转换为 AAC（比 MP3 同码率下音质更优）
ffmpeg -i input.mov -vn -c:a aac -b:a 192k output.aac
# 说明：-b:a 192k 是比特率（推荐 128k-320k，192k 兼顾音质和体积）

# 转换为 OGG（开源格式，适合流媒体）
ffmpeg -i input.wav -vn -c:a libvorbis -q:a 5 output.ogg
# 说明：-q:a 5 是中等品质（0-10，7 以上接近无损听感）
```

### **四、按需求筛选音频流（多音轨视频适用）**

若视频包含多个音频轨（如多语言），可指定提取某一条：

```bash
# 查看视频中的所有音轨信息（先确认音轨序号）
ffmpeg -i input.mp4

# 提取第 2 条音频轨（序号从 0 开始）并转换为 MP3
ffmpeg -i input.mp4 -vn -map 0:a:1 -c:a libmp3lame -q:a 2 output.mp3
# 说明：-map 0:a:1 表示选择第 1 个输入文件的第 2 条音频轨
```

### **五、批量处理（配合 macOS 终端命令）**

批量提取文件夹中所有 MP4 的音频为 FLAC：

```bash
for file in *.mp4; do
  ffmpeg -i "$file" -vn -c:a flac -compression_level 6 "${file%.mp4}.flac"
done
```

- 执行前先进入目标文件夹（`cd 文件夹路径`）
- `${file%.mp4}.flac`：自动替换原文件后缀为 `.flac`

### 注意事项：

1. 命令中的 `input.xxx` 替换为实际文件名（若有空格需用引号包裹，如 `"我的视频.mp4"`）。
2. 若提示 `ffmpeg: command not found`，需先安装 ffmpeg（推荐用 Homebrew：`brew install ffmpeg`）。
3. 无损格式（FLAC/WAV）适合存档，有损格式（MP3/AAC）适合日常使用，可根据需求选择。